{"ast":null,"code":"import React,{useState}from'react';import{X,Mail,Lock,User,Download}from'lucide-react';import axios from'axios';import'./AuthModal.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const AuthModal=_ref=>{let{onClose,coverLetter}=_ref;const[isSignUp,setIsSignUp]=useState(true);const[formData,setFormData]=useState({email:'',password:'',confirmPassword:''});const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleDownload=async()=>{try{setIsLoading(true);const response=await axios.post('/download_cover_letter',{cover_letter:coverLetter},{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([response.data]));const link=document.createElement('a');link.href=url;link.setAttribute('download','cover_letter.docx');document.body.appendChild(link);link.click();link.remove();window.URL.revokeObjectURL(url);onClose();}catch(error){setError('Failed to download cover letter');}finally{setIsLoading(false);}};const handleSubmit=e=>{e.preventDefault();setError('');if(!formData.email||!formData.password){setError('Please fill in all fields');return;}if(isSignUp){if(!formData.confirmPassword){setError('Please confirm your password');return;}if(formData.password!==formData.confirmPassword){setError('Passwords do not match');return;}}// For demo purposes, we'll just proceed to download\n// In a real app, you'd authenticate the user first\nhandleDownload();};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[isSignUp?'Sign Up':'Sign In',\" to Download\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[/*#__PURE__*/_jsx(Mail,{size:18}),\"Email\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,placeholder:\"Enter your email\",className:\"form-input\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[/*#__PURE__*/_jsx(Lock,{size:18}),\"Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,placeholder:\"Enter your password\",className:\"form-input\",required:true})]}),isSignUp&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[/*#__PURE__*/_jsx(Lock,{size:18}),\"Confirm Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleInputChange,placeholder:\"Confirm your password\",className:\"form-input\",required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"auth-submit-button\",disabled:isLoading,children:[/*#__PURE__*/_jsx(Download,{size:18}),isLoading?'Downloading...':'Download Cover Letter']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-switch\",children:[isSignUp?'Already have an account?':\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"switch-button\",onClick:()=>setIsSignUp(!isSignUp),children:isSignUp?'Sign In':'Sign Up'})]})]})});};export default AuthModal;","map":{"version":3,"names":["React","useState","X","Mail","Lock","User","Download","axios","jsxs","_jsxs","jsx","_jsx","AuthModal","_ref","onClose","coverLetter","isSignUp","setIsSignUp","formData","setFormData","email","password","confirmPassword","isLoading","setIsLoading","error","setError","handleInputChange","e","name","value","target","prev","handleDownload","response","post","cover_letter","responseType","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","handleSubmit","preventDefault","className","onClick","children","stopPropagation","size","onSubmit","type","onChange","placeholder","required","disabled"],"sources":["C:/Users/DELL/OneDrive/Desktop/CoverLetter - Copy (3)/src/components/AuthModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { X, Mail, Lock, User, Download } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport './AuthModal.css';\r\n\r\nconst AuthModal = ({ onClose, coverLetter }) => {\r\n  const [isSignUp, setIsSignUp] = useState(true);\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleDownload = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await axios.post('/download_cover_letter', {\r\n        cover_letter: coverLetter\r\n      }, {\r\n        responseType: 'blob'\r\n      });\r\n\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', 'cover_letter.docx');\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n      window.URL.revokeObjectURL(url);\r\n      \r\n      onClose();\r\n    } catch (error) {\r\n      setError('Failed to download cover letter');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (!formData.email || !formData.password) {\r\n      setError('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    if (isSignUp) {\r\n      if (!formData.confirmPassword) {\r\n        setError('Please confirm your password');\r\n        return;\r\n      }\r\n      if (formData.password !== formData.confirmPassword) {\r\n        setError('Passwords do not match');\r\n        return;\r\n      }\r\n    }\r\n\r\n    // For demo purposes, we'll just proceed to download\r\n    // In a real app, you'd authenticate the user first\r\n    handleDownload();\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h2>{isSignUp ? 'Sign Up' : 'Sign In'} to Download</h2>\r\n          <button className=\"close-button\" onClick={onClose}>\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"auth-form\">\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              <Mail size={18} />\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleInputChange}\r\n              placeholder=\"Enter your email\"\r\n              className=\"form-input\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"form-label\">\r\n              <Lock size={18} />\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleInputChange}\r\n              placeholder=\"Enter your password\"\r\n              className=\"form-input\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {isSignUp && (\r\n            <div className=\"form-group\">\r\n              <label className=\"form-label\">\r\n                <Lock size={18} />\r\n                Confirm Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"confirmPassword\"\r\n                value={formData.confirmPassword}\r\n                onChange={handleInputChange}\r\n                placeholder=\"Confirm your password\"\r\n                className=\"form-input\"\r\n                required\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {error && <div className=\"error-message\">{error}</div>}\r\n\r\n          <button \r\n            type=\"submit\" \r\n            className=\"auth-submit-button\"\r\n            disabled={isLoading}\r\n          >\r\n            <Download size={18} />\r\n            {isLoading ? 'Downloading...' : 'Download Cover Letter'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"auth-switch\">\r\n          {isSignUp ? 'Already have an account?' : \"Don't have an account?\"}{' '}\r\n          <button \r\n            type=\"button\"\r\n            className=\"switch-button\"\r\n            onClick={() => setIsSignUp(!isSignUp)}\r\n          >\r\n            {isSignUp ? 'Sign In' : 'Sign Up'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}