{"ast":null,"code":"import React,{useState}from'react';import Header from'./components/Header';import CoverLetterForm from'./components/CoverLetterForm';import CoverLetterDisplay from'./components/CoverLetterDisplay';import Footer from'./components/Footer';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[coverLetter,setCoverLetter]=useState('');const[isLoading,setIsLoading]=useState(false);const[jobDetails,setJobDetails]=useState({company:'',role:''});const handleCoverLetterGenerated=(letter,details)=>{setCoverLetter(letter);setJobDetails(details);};const handleDownloadRequest=async()=>{try{const response=await fetch('/download_cover_letter',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({cover_letter:coverLetter})});if(!response.ok){throw new Error('Download failed');}const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='cover_letter.docx';document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);}catch(error){console.error('Download error:',error);alert('Failed to download cover letter. Please try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(CoverLetterForm,{onCoverLetterGenerated:handleCoverLetterGenerated,isLoading:isLoading,setIsLoading:setIsLoading}),coverLetter&&/*#__PURE__*/_jsx(CoverLetterDisplay,{coverLetter:coverLetter,onDownloadRequest:handleDownloadRequest,jobDetails:jobDetails})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","Header","CoverLetterForm","CoverLetterDisplay","Footer","jsx","_jsx","jsxs","_jsxs","App","coverLetter","setCoverLetter","isLoading","setIsLoading","jobDetails","setJobDetails","company","role","handleCoverLetterGenerated","letter","details","handleDownloadRequest","response","fetch","method","headers","body","JSON","stringify","cover_letter","ok","Error","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","revokeObjectURL","removeChild","error","console","alert","className","children","onCoverLetterGenerated","onDownloadRequest"],"sources":["C:/CoverLetter - Copy 4 - Copy/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Header from './components/Header';\r\nimport CoverLetterForm from './components/CoverLetterForm';\r\nimport CoverLetterDisplay from './components/CoverLetterDisplay';\r\n\r\nimport Footer from './components/Footer';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [coverLetter, setCoverLetter] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [jobDetails, setJobDetails] = useState({ company: '', role: '' });\r\n\r\n  const handleCoverLetterGenerated = (letter, details) => {\r\n    setCoverLetter(letter);\r\n    setJobDetails(details);\r\n  };\r\n\r\n  const handleDownloadRequest = async () => {\r\n    try {\r\n      const response = await fetch('/download_cover_letter', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          cover_letter: coverLetter\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Download failed');\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'cover_letter.docx';\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    } catch (error) {\r\n      console.error('Download error:', error);\r\n      alert('Failed to download cover letter. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header />\r\n      <main className=\"main-content\">\r\n        <CoverLetterForm \r\n          onCoverLetterGenerated={handleCoverLetterGenerated}\r\n          isLoading={isLoading}\r\n          setIsLoading={setIsLoading}\r\n        />\r\n        {coverLetter && (\r\n          <CoverLetterDisplay \r\n            coverLetter={coverLetter}\r\n            onDownloadRequest={handleDownloadRequest}\r\n            jobDetails={jobDetails}\r\n          />\r\n        )}\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,CAAAC,kBAAkB,KAAM,iCAAiC,CAEhE,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,CAAEgB,OAAO,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAG,CAAC,CAAC,CAEvE,KAAM,CAAAC,0BAA0B,CAAGA,CAACC,MAAM,CAAEC,OAAO,GAAK,CACtDT,cAAc,CAACQ,MAAM,CAAC,CACtBJ,aAAa,CAACK,OAAO,CAAC,CACxB,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wBAAwB,CAAE,CACrDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,YAAY,CAAEnB,WAChB,CAAC,CACH,CAAC,CAAC,CAEF,GAAI,CAACY,QAAQ,CAACQ,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,iBAAiB,CAAC,CACpC,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAV,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAC5C,KAAM,CAAAK,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,CAAG,mBAAmB,CAChCH,QAAQ,CAACZ,IAAI,CAACgB,WAAW,CAACL,CAAC,CAAC,CAC5BA,CAAC,CAACM,KAAK,CAAC,CAAC,CACTT,MAAM,CAACC,GAAG,CAACS,eAAe,CAACX,GAAG,CAAC,CAC/BK,QAAQ,CAACZ,IAAI,CAACmB,WAAW,CAACR,CAAC,CAAC,CAC9B,CAAE,MAAOS,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC,CACvCE,KAAK,CAAC,oDAAoD,CAAC,CAC7D,CACF,CAAC,CAED,mBACExC,KAAA,QAAKyC,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB5C,IAAA,CAACL,MAAM,GAAE,CAAC,cACVO,KAAA,SAAMyC,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC5B5C,IAAA,CAACJ,eAAe,EACdiD,sBAAsB,CAAEjC,0BAA2B,CACnDN,SAAS,CAAEA,SAAU,CACrBC,YAAY,CAAEA,YAAa,CAC5B,CAAC,CACDH,WAAW,eACVJ,IAAA,CAACH,kBAAkB,EACjBO,WAAW,CAAEA,WAAY,CACzB0C,iBAAiB,CAAE/B,qBAAsB,CACzCP,UAAU,CAAEA,UAAW,CACxB,CACF,EACG,CAAC,cACPR,IAAA,CAACF,MAAM,GAAE,CAAC,EACP,CAAC,CAEV,CAEA,cAAe,CAAAK,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}